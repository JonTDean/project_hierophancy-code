---
description: Required doc header at the top of code files (module-level).
alwaysApply: true
globs:
  - "src/**/*.py"
  - "tests/**/*.py"
  - "scripts/**/*.py"
  - "apps/**/*.{ts,tsx,js,jsx}"
---

# Code Header â€” Required

## Placement
- Python: module docstring on line 1 (below shebang/`__future__` if present).
- TS/JS: block comment on line 1.

## Fields (single-line each)
- **Status**: one of âœ… ğŸ”„ ğŸ“ âŒ + brief note.
- **Summary**: one-sentence purpose.
- **I/O**: inputs â†’ outputs.
- **Contracts**: 1â€“2 key invariants.
- **Tests**: primary test file(s).
- **Refs**: paper/section or pseudocode lines.

## Template â€” Python
```py
"""
Status: ğŸ”„ WIP â€” refining delta_fn
Summary: Leiden orchestration with refinement and aggregation.
I/O: (G: Graph, P: Partition, delta_fn) â†’ list[set[Node]]
Contracts: partition size non-increasing; aggregation preserves weights.
Tests: tests/unit/test_leiden_core.py
Refs: Traag 2019; pseudocode 1â€“12.
"""
````

## Template â€” TS/JS

```ts
/**
 * Status: âœ… stable â€” v1
 * Summary: Convex hull visualizer for community layouts.
 * I/O: positions: Point[] â†’ void (render)
 * Contracts: no side effects outside container; idempotent for same props.
 * Tests: apps/__tests__/convex_hull.test.tsx
 * Refs: docs/visuals.md Â§Hull.
 */
```

